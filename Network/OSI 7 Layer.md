
#### abstract
- 통신 기능이 제대로 동작하기 위해서는, 참여자들 사이의 약속된 통신 방법이 있어야 함...
- 모든 기능을 하나의 프로토콜로 구현할 수 없고, 각각의 역할과 책임에 맞게 모듈화 한다
- 총 7개의 나눈 것이 OSI 7 Layer이다
	- 범용적인 네트워크 구조
- 4계층으로 나눈 것이 TCP/IP
	- 인터넷에 특화된 네트워크 구조

- 각 레이어의 프로토콜은 하위 레이어의 프로토콜이 제공하는 기능을 사용하여 동작
- 
### 1) Physical Layer
- 0과 1로 이루어진 전기신호를, 아날로그 신호로 바꾸어 전선으로 흘려보낸다.(encoding)
- 아날로그 신호를 0과 1의 나열로 해석하여 디지털 신호로 바꾼다.(decoding)

이 기술은 어디에 구현되어 있을까?
- 하드웨어적으로 구현되어 있는 영역이다

### 2) DataLink Layer
- 여러 대의 컴퓨터가 통신하려면...
	- 일일히 모든 컴퓨터를 전선에 연결해야할까?
	- 그렇다면 연결하려는 컴퓨터의 수 만큼 전선이 늘어날 터인디...
	- 전선 하나를 가지고 여러 대의 컴퓨터와 통신할 방법을 모색해야 한다
- **스위치**가 일종의 컴퓨터로서, 여러 전선들을 하나로 모아주는 역할을 한다
	- 스위치는, 같은 네트워크 있는 여러 대의 컴퓨터들이 데이터를 주고받기 위해 필요한 모듈인 셈
	- 모든 컴퓨터에게 데이터를 전달하면 안되므로, *목적지*를 확인하여 전달하는 역할을 한다
	- 스위치와 스위치를 연결해주는 것이 *라우터*(L3 스위치, 3계층의 스위치)이다
 
- 장치와 장치 사이의 MAC 주소 기반으로 통신한다
	- ARP 프로토콜을 이용하여 IP 주소를 MAC 주소로 변환한다

- 이렇게 스위치, 라우터들이 계층 구조로 모여있는 것이 *인터넷*
- 여러대의 컴퓨터가 하나의 컴퓨터에 동시에 메시지를 보낸다면, 어떻게 구분할까?
	- 이를 위해, 송신자는 데이터의 앞 뒤에 특정한 비트열을 감싼다(Framing)
	- 결국 데이터링크 계층은, `같은 네트워크에 있는 여러 대의 컴퓨터들이 데이터를 주고받기 위해 필요한 모듈`

- 이 기술은 어디에 구현되어 있을까?
	- 랜카드에 구현되어 있음
	- 2계층 모듈도, 1계층 모듈도 하드웨어에 구현되어 있는 셈이다

### 3) Network Layer
- 더 많은 컴퓨터들끼리 서로 통신하려면...
- 특정 컴퓨터로 데이터를 보내기 위해서는, 해당하는 컴퓨터의 IP 주소를 알고 있어야 한다
	- `목적지`와 `전송하려는 데이터`를 한 묶음으로 놓은 것을, **패킷** 이라 한다
- 각 라우터는 **라우팅**을 통해 패킷을 전달할 라우터를 식별하고,
	- 자신의 다음 라우터에게 데이터를 전달한다(*포워딩*)
- 해당 IP를 가진 라우터에 도착하면, 그 PC에 패킷을 전달한다~

- 한 호스트와 호스트 사이를 IP를 바탕으로 통신한다

- 결국 네트워크 계층은, 수 많은 네트워크의 연결로 이루어진 inter-network에서
- 목적지 컴퓨터로 데이터를 전송하기 위해 IP 주소를 통해, 다른 라우터에게 데이터를 넘기는 것

- 이 기술은 어디에 구현되어 있을까?
	- 운영체제 커널에, 소프트웨어적으로 구현되어 있음

### 4) Transport Layer
- 네트워크 계층을 통해, 모든 컴퓨터들이 연결되었다
- 해당 컴퓨터에는, 여러 프로세스들이 떠있을 수 있다
	- 컴퓨터는 자기가 받은 데이터를 어떤 프로세스에 전달해야 하는지 어떻게 구분해야할까?
	- 이를 위해, 각 프로세스별로 겹치지 않는 *포트 번호* 를 통해 구분한다
- 결국, 네트워크 송신자는 컴퓨터 수신자에 있는 프로세스의 포트 번호를 붙여서 송신하는 셈이다
-  안정적이고 신뢰할 수 있는 데이터 전송 보장하는 *TCP*, 필수 기능만 제공하는 *UDP* 등

- 전송 계층은, 포트 번호를 이용하여 컴퓨터의 최종 목적지인 프로세스에 데이터가 전달되도록 한다

- 이 기술은 어디에 구현되어 있을까?
	- 운영체제 커널에, 소프트웨어적으로 구현되어 있음


### 5) Session Layer
- 네트워크 상 양쪽 연결을 관리하고 연결을 지속 시켜 주는 계층이다.
- 대개 TCP/IP 세션을 만들고 유지하며, 세션이 종료되거나 전송이 중단될 시 복구하기도 함
#### 그럼 세션은 뭘까?
- 일정 시간 동안 같은 사용자로부터 들어오는 일련의 요구를 하나의 상태로 보고, 그 상태를 일정하게 유지하는 기술

### 6) Presentation Layer
- 어플리케이션 간의 통신에서 메시지 포맷을 관리한다
	- 인코딩 <-> 디코딩
	- 암호화 <-> 복호화
	- 압축 <-> 압축 풀기

### 7) Application Layer
- 각 어플리케이션에서의 목적에 맞는 프로토콜을 제공한다
	- `HTTP`, `DNS`, `SMTP`, `FTP` 등...
- *어떤 방법으로 데이터를 주고받을지* 를 결정한다


#### TCP / IP stack?
- 현대의 인터넷 구조에 특화된 모델이다
- 따로 정리하며 비교하자~

#### reference
- https://youtu.be/6l7xP7AnB64?si=qAQLtp1lNly-Xe9l
- https://youtu.be/1pfTxp25MA8?si=tPhQhhpBj2G_4Lum
- https://steady-coding.tistory.com/504